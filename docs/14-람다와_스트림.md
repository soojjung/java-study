# 14ì¥. ëŒë‹¤ì™€ ìŠ¤íŠ¸ë¦¼

**ìë°”ì˜ í° ì„¸ ê°€ì§€ ë³€í™”**

| **ë²„ì „** | **ì£¼ìš” ê¸°ëŠ¥** | **ì„¤ëª…** |
| --- | --- | --- |
| JDK 5 | ì§€ë„¤ë¦­ìŠ¤ (Generics) | íƒ€ì… ì•ˆì •ì„±ê³¼ ì½”ë“œ ì¬ì‚¬ìš©ì„±ì„ ë†’ì„ |
| JDK 8 | ëŒë‹¤ì‹ (Lambda), ìŠ¤íŠ¸ë¦¼(Stream), Optional ë“± | **í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°** ë„ì… |
| JDK 9 | ëª¨ë“ˆí™” ì‹œìŠ¤í…œ (Module System) | ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ ê°œë°œ ë° ë°°í¬ì— ìœ ë¦¬ |

## 1. ëŒë‹¤ì‹ (lamda expression)

ëŒë‹¤ì‹ì˜ ë„ì…ìœ¼ë¡œ ì¸í•´ ìë°”ëŠ” **ê°ì²´ì§€í–¥ ì–¸ì–´ + í•¨ìˆ˜í˜• ì–¸ì–´** ì´ë‹¤.

### ëŒë‹¤ì‹ì´ë€?

ëŒë‹¤ì‹ì€ â€œë©”ì„œë“œë¥¼ í•˜ë‚˜ì˜ **í‘œí˜„ì‹(expression)** ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ ê²ƒâ€ â†’ ì´ë¦„ ì—†ëŠ” ìµëª… í•¨ìˆ˜

### ëŒë‹¤ì‹ ì‘ì„±ë²• (ê¸°ë³¸ ë¬¸ë²•)

```java
(ë§¤ê°œë³€ìˆ˜) -> { ì‹¤í–‰ë¬¸ }
```

ì˜ˆì‹œ ë¹„êµ

```java
// ê¸°ì¡´ ë°©ì‹
int method(int i) {
    return (int)(Math.random()*5) + 1;
}

// ëŒë‹¤ì‹
(i) -> (int)(Math.random()*5) + 1
```

| **êµ¬ì„± ìš”ì†Œ** | **ì„¤ëª…** | **ì˜ˆì‹œ** |
| --- | --- | --- |
| ë§¤ê°œë³€ìˆ˜ | 0ê°œ ì´ìƒ ê°€ëŠ¥ | (), (x), (x, y) |
| í™”ì‚´í‘œ | -> ê¸°í˜¸ | x -> x + 1 |
| ì‹¤í–‰ë¬¸ | í•œ ì¤„ì´ë©´ {} ìƒëµ ê°€ëŠ¥ | x -> x * x |

### í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤

: ì˜¤ì§ í•˜ë‚˜ì˜ ì¶”ìƒ ë©”ì„œë“œë§Œ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤

**ì™œ í•„ìš”í• ê¹Œ?**

- ëŒë‹¤ì‹ì€ ìµëª… ë©”ì„œë“œì´ë¯€ë¡œ ì´ê±¸ ë°›ì•„ì¤„ íƒ€ì…ì´ í•„ìš”í•˜ë‹¤.
- ìë°”ì—ì„œëŠ” ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ìœ¼ë¡œ ëŒë‹¤ì‹ì„ ì „ë‹¬í•œë‹¤.

ì˜ˆì‹œ:Â Runnable

```java
@FunctionalInterface
interface Runnable {
    void run();
}

Runnable r = () -> System.out.println("Run!");
```

**ìë°” ê¸°ë³¸ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ (java.util.function)**

| **ì¸í„°í˜ì´ìŠ¤** | **ì¶”ìƒ ë©”ì„œë“œ** | **ì„¤ëª…** |
| --- | --- | --- |
| Function<T, R> | R apply(T t) | Të¥¼ ë°›ì•„ Rì„ ë°˜í™˜ |
| Predicate<T> | boolean test(T t) | Të¥¼ ë°›ì•„ ì¡°ê±´ íŒë³„ |
| Consumer<T> | void accept(T t) | Të¥¼ ì†Œë¹„í•˜ê³  ë°˜í™˜ ì—†ìŒ |
| Supplier<T> | T get() | ë§¤ê°œë³€ìˆ˜ ì—†ì´ T ë°˜í™˜ |

### ëŒë‹¤ì‹ì˜ íƒ€ì…ê³¼ í˜•ë³€í™˜

- ëŒë‹¤ì‹ ìì²´ëŠ” ìµëª… í•¨ìˆ˜ì´ì§€ë§Œ, ìë°”ì—ì„œëŠ” ë°˜ë“œì‹œ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ìœ¼ë¡œ ì €ì¥ë˜ì–´ì•¼ í•œë‹¤.
- ì˜ˆ:
    
    ```java
    Function<Integer, Integer> f = x -> x * x;
    ```
    
- í˜•ë³€í™˜ë„ ê°€ëŠ¥
    
    ```java
    Object obj = (Function<Integer, Integer>)(x -> x + 10);
    ```
    

### ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ëŒë‹¤ì‹ (Closure)

- ëŒë‹¤ì‹ì€ ìì‹ ì´ ì„ ì–¸ëœ ì™¸ë¶€ ì˜ì—­ì˜ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
    
    ```java
    int factor = 10;
    Function<Integer, Integer> f = x -> x * factor;
    ```
    
    ğŸ“Œ ë‹¨, ì™¸ë¶€ ë³€ìˆ˜ëŠ” **finalì´ê±°ë‚˜ ì‚¬ì‹¤ìƒ final(ê°’ ë³€ê²½ ë¶ˆê°€)** ì´ì–´ì•¼ í•œë‹¤.
    
    (ëŒë‹¤ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ëœ ì§€ì—­ ë³€ìˆ˜ëŠ” ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.)
    

### Functionì˜ í•©ì„±ê³¼ Predicateì˜ ê²°í•©

- Function í•©ì„±
    
    ```java
    Function<Integer, Integer> f = x -> x + 2;
    Function<Integer, Integer> g = x -> x * 3;
    
    Function<Integer, Integer> h = f.andThen(g); // (x + 2) â†’ * 3
    System.out.println(h.apply(1)); // (1 + 2) * 3 = 9
    
    Function<Integer, Integer> h2 = f.compose(g); // (* 3) â†’ + 2
    System.out.println(h2.apply(1)); // (1 * 3) + 2 = 5
    ```
    
- Predicate ê²°í•©
    
    ```java
    Predicate<Integer> p1 = x -> x > 0;
    Predicate<Integer> p2 = x -> x % 2 == 0;
    
    Predicate<Integer> p3 = p1.and(p2);     // ì–‘ìˆ˜ & ì§ìˆ˜
    Predicate<Integer> p4 = p1.negate();    // ìŒìˆ˜
    
    System.out.println(p3.test(4)); // true
    System.out.println(p4.test(-3)); // true
    ```
    

### ë©”ì„œë“œ ì°¸ì¡° (Method Reference)

: ê¸°ì¡´ ë©”ì„œë“œ ì´ë¦„ì„ ëŒë‹¤ë³´ë‹¤ ë” ê°„ê²°í•˜ê²Œ í‘œí˜„í•˜ëŠ” ë¬¸ë²•

| **ì¢…ë¥˜** | **ì˜ˆì‹œ** |
| --- | --- |
| static ë©”ì„œë“œ | Integer::parseInt |
| ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ | str::toUpperCase |
| ìƒì„±ì ì°¸ì¡° | ArrayList::new |
- ë¬¸ë²•:
    
    ```java
    í´ë˜ìŠ¤ì´ë¦„::ë©”ì„œë“œì´ë¦„
    ```
    
- ì˜ˆ:
    
    ```java
    Function<String, Integer> f = Integer::parseInt;
    Supplier<List<String>> s = ArrayList::new;
    ```
